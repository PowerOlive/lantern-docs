.. _config-proxied-sites:

Настройка проксируемых сайтов
=========================

.. image:: https://www.evernote.com/shard/s209/sh/a6ffd5ed-9f38-4a27-9e75-1b940be94582/2f741aad7056c2bccf76844e7814773c/deep/0/Lantern.png
   :alt: Проксируемые сайты

   Проксируемые сайты
Окно списка проксируемых сайтов - это раздел настройки Lantern для пользователей
режима "Получить доступ", он доступен по нажатию на значок глобуса в 
нижнем правом углу.

.. image:: https://www.evernote.com/shard/s209/sh/9dd170e2-800d-412c-bfef-8fb21819f517/22b89c58ddadf34a4dee969b2e9fe9ff/deep/0/Lantern.png
   :alt: прокси сайты

   прокси сайты
В этом разделе пользователи режима "Получить доступ"  могут определить сайты, к которым доступ будет осуществляться через 
друзей в сети Lantern, вместо того чтобы получать доступ к сайтам напрямую. Получая
доступ через Lantern только к тем сайтам, которые блокируются без использования Lantern, и в то же время
просматривая напрямую сайты, которые не блокируются, скорость соединения в сети Lantern будет больше, и 
трафик сети Lantern будет сложнее заблокировать. Таким образом Lantern будет более эффективен. Список проксируемых 
сайтов в программе Lantern указывает браузеру на то, какие именно сайты нужно открывать через сеть Lantern, вместо того, чтобы
пытаться получить к ним прямой доступ.

Начальная конфигурация
~~~~~~~~~~~~~~~~~~~~~

В настоящий момент в списке содержится лишь некоторое количество сайтов, о которых известно, что они блокируются.
В будущем мы надеемся своевременно редактировать этот список, основываясь на информации о
том, какие сайты блокируются в каждой отдельной стране. Но в настоящее время мы рекомендуем заполнить
его согласно вашим требованиям. Если вы натолкнетесь на сайт, который окажется заблокированным, вы можете
проверить находится ли он в списке, и, если он отсутствует, добавить его. Также мы рекомендуем
удалять из списка сайты, которые в действительности не блокируются, так как 
они будут загружаться быстрее и это поможет сети функционировать более эффективно.

Использование общедоступных списков проксируемых сайтов
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Так как в настоящее время мы еще не разработали способ интеграции, мы создали `Список 
проксируемых сайтов
в Wiki <https://github.com/getlantern/lantern-proxied-sites-lists/wiki>`__,
где находятся списки заблокированных сайтов, разделенные по  странам. Если вы живете
в стране, для которой существует список и он был недавно обновлен, то 
будет лучше использовать его, а не тот список по умолчанию 
изпользующийся Lantern.

.. image:: https://www.evernote.com/shard/s209/sh/1410658e-531a-44aa-b01b-7867e074637c/b88cfe3ce617b30a394cf6c56b3ea20a/deep/0/Autoproxy%20list%20for%20china%20%C2%B7%20getlantern/lantern-proxied-sites-lists%20Wiki.png
   :alt: список проксируемых сайтов для Китая 

   Список проксируемых сайтов для Китая
Просто откройте один из списков, выделите и скопируйте его содержимое и вставьте его в список проксируемых доменов 
вашего Lantern. Обязательно удалите предыдущий список, для того чтобы у вас не оказалось дубликатов и 
адресов тех сайтов, которые вам не нужны.

.. image:: https://www.evernote.com/shard/s209/sh/345d4873-a0b1-49e1-8188-c5356c2e5c56/d668a756c91454b8f1eaeaf79e6a79a3/deep/0/Lantern.png
   :alt: Вставка списка в Lantern.

   Вставка списка в Lantern.
Если список действительно большой, то вам будет крайне неудобно вручную выделять его.
Некоторые сайты предоставляют возможность скачать файл с длинным 
списком сайтов. Если вы его скачали, то откройте его, используйте команды с клавиатуры: Ctrl+A (выбрать все),
Ctrl+C (скопировать), и Ctrl+V (вставить). Вы должны удалить 
первоначальный список, чтобы в вашем списке не оказалось дубликатов и 
сайтов, которые вам не нужны.

Поиск сайтов
~~~~~~~~~~~~~

Перед тем, как добавлять новый сайт в список, проверьте, может быть его адрес уже
там указан. Проверить это можно пролистав список или воспользоваться полем
поиска, находящимся справа, что позволит быстрее найти сайт:

.. image:: https://www.evernote.com/shard/s209/sh/f97bd235-eeeb-4e07-a6bd-a47f991254c1/f048f14a6d5d9aeae030ec1b00a445bb/deep/0/Lantern.png
   :alt: поиск

   Поиск
Добавление нового сайта
~~~~~~~~~~~~~~~~~

Для того чтобы добавить новый сайт, вам нужно всего лишь внести его адрес
в текстовое поле списка. Вы сможете вписать адрес в любом месте списка. Нажмите 'Enter'  для 
создания новой строки и внесите туда адрес сайта.

.. image:: https://www.evernote.com/shard/s209/sh/d1cf2497-2202-4929-847d-7c8c725bbdda/0028e5ba5c860863e4ca3d72014822bf/deep/0/Lantern.png
   :alt: добавление

   Добавление
Обязательно нажмите кнопку 'Обновить' после того как вы внесете в список новый сайт. Lantern сохранит изменения
и при следующем посещении этого сайта, вы будете направлены на него 
через пользователя сети Lantern, для того, чтобы обойти блокировку.

Какую часть адреса сайта нужно использовать при составлении списка
'''''''''''''''''''''''''''''''''''''

Вместо того, чтобы указывать отдельные страницы какого либо сайта, к которому
вам нужно получить доступ через Lantern, вам можно указать весь сайт
полностью. Другими словами вам следует указывать только доменные имена сайтов,
к которым вы хотите получить доступ через Lantern. Например, вы введете 
не полный адрес страницы
``nobelprize.org/nobel_prizes/peace/laureates/2010``; а вместо этого, введете
только основной адрес сайта: `nobelprize.org``. Условия для поисковиков аналогичны - 
введите адрес сайта поисковика, и поиск будет
осуществляться через Lantern.

Поддомены 
          

Если  в вашем списке есть ``foo.blogspot.com`` и bar.blogspot.com``,
они будут доступны через Lantern, но ``baz.blogspot.com``
не откроется. Однако если вы укажете в своем списке только ``blogspot.com``, тогда
любой сайт домена blogspot.com будет доступен через Lantern.

Групповое добавление новых сайтов
''''''''''''''''''''''''

Если у вас есть список проксируемых сайтов из другого источника, который
не использует формат Lantern, вам придется убрать любое форматирование текста.
Например, если в списке имеется
[comments](https://en.wikipedia.org/wiki/Comment\_(computer\_programming)),
вам нужно удалить комментарии, так как в настоящее время Lantern их не поддерживает.
Вам необходимо придерживаться всех вышеуказанных требований по форматированию.
Если вы знакомы с `регулярными 
выражениями <http://www.regular-expressions.info/>`__ , то они могут быть 
весьма полезны в очищении списка сайтов от форматирования.

Обратите внимание, что Lantern корректно обрабатывает групповое добавление только тех списков, которые уже 
были приведены в формат Lantern. Если вы вставите длинный список адресов сайтов, которые 
не соответствует формату Lantern, то вы увидите ошибку 'неверная строка'. Lantern укажет 
на эту строку, и мы рекомендуем скопировать ее и затем найти ее в той программе, откуда вы взяли ее, 
с помощью Ctrl+F (или меню Редактирование > Поиск). В 
крайнем случае, вы можете это сделать и в самом Lantern (в ОС Windows и Ubuntu), но 
лучше работать с текстом списка вне Lantern, и только потом вставить текст и продолжать 
редактировать список вплоть до устранения всех ошибок.

Удаление сайтов
~~~~~~~~~~~~~~

Мы рекомендуем вам пролистать список и удалить все адреса сайтов, которые
открываются в вашей стране. Для этого просто выделите их в списке 
и нажмите на клавиатуре кнопку 'Delete'. По завершению обязятельно нажмите кнопку 'Обновить' 
в нижнем правом углу окна.

.. image:: https://www.evernote.com/shard/s209/sh/81bd9e5b-808c-4b3a-bb8f-487fee2601fd/bf5af2b060b92a44336a9ccc7ff8988b/deep/0/Lantern.png
   :alt: обновить

   Обновить
Общий доступ
~~~~~~~

Если вы хотите дать доступ к вашему списку проксируемых сайтов вашему другу,
который пользуется Lantern, просто выделите те сайты в списке, которыми вы хотите поделиться,
мышкой или выделите весь список командой Ctrl+A (Command+A 
в OS X), затем скопируйте выделенное с помощью команды Ctrl+C 
(Command+C), и вставьте в сообщение электронной почты используя команду Ctrl+V 
(Command+V). Ваш друг сможет скопировать эти адреса сайтов, которые вы отослали, и затем
вставить в свой список проксируемых сайтов Lantern.

Если вы хотите поделиться с широкой общественность своим списком, 
добавьте его на новую страницу в `Списке проксируемых сайтов Lantern
Wiki <https://github.com/getlantern/lantern-proxied-sites-lists/wiki>`__.
Для этого нажмите на зеленую кнопку 'Новая страница', озаглавьте эту страницу, затем
на экране "Создать новую страницу" вставьте содержимое вашего списка между двумя строчками,
содержащими только три символа с апострофами, типа:

\`\`\`

site1.com

site2.com

site3.com

\`\`\`

Также вы можете добавить сообщение на `Форум
пользователей <https://groups.google.com/group/lantern-users-en>`__ с указанием ссылки
на ту страничку, которую вы только что создали. И другие пользователи смогут воспользоваться вашим списком!

Создаем список без форматирования.
'''''''''''''''''''

Если ваш список очень длинный, людям может быть очень неудобно его копировать и вставлять
со странички wiki. Некоторые списки находятся в репозитарии (хранилище) GitHub, и затем уже
связаны со страничкой wiki. Эти списки можно скопировать очень легко.

Если вы не очень технически подкованы, свяжитесь по электронной почте с 
группой пользователей Lantern, и кто нибудь с легкостью сможет это сделать для вас. Если вы 
знаете github  "от и до", создайте форк репозитария и создайте запрос на 
внесение измененных вами данных (pull request). Все остальные - продолжайте читать дальше.

Для того чтобы добавить новый список в репозитарий (хранилище), вам нужен аккаунт GitHub. В 
верхнем правом углу должна быть ссылка на "регистрацию". Как только
вы зарегистрируетесь, пройдите по ссылке:
https://github.com/getlantern/lantern-proxied-sites-lists и нажмите на
кнопку "+".

.. image:: https://www.evernote.com/shard/s209/sh/f7185f3d-9ca5-45bf-aac5-8978f7fefb39/6868a4884f375bb854b24b4f663fab91/deep/0/getlantern/lantern-proxied-sites-lists.png
   :alt: добавить

   Добавить
Этим вы создадите "клон" основного репозитария, скопировав все его файлы
и получив над ними полный контроль. Вы можете создавать новые и редактировать существующие файлы, и это
не повлияет на содержимое основного репозитария - вы работаете со своей личной копией. Вам следует
создать новый файл в папке с названием страны. Сделать вы это можете
введя название папки и в конце нажав "/". Таким образом введите текст типа 
\`china/my-folder/list.txt', и это создаст вашу новую папку в папке 
china.

.. image:: http://i.stack.imgur.com/9Ifmj.gif
   :alt: анимированные папки

   Процесс создания новой папки и перехода между папками.
После того как вы создали собственный список, вы можете предложить эти изменения нашим
главным авторам. Для этого вам нужно создать запрос на внесение измененных вами данных (pull request). Для этого
Нажмите в вашем хранилище (репозитарии) зеленую кнопку "сравнить и рассмотреть". А затем
нажмите "создать запрос на внесение изменений". Авторы, уже на главном сайте,
рассмотрят ваш запрос.

Заметьте, что вы можете использовать такие запросы для обновления и исправления других списков.
Редактируйте эти списки у себя в репозитарии, а затем создайте запрос на внесение изменений.